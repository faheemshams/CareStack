(()=>{function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}var n=document.getElementById("add-student-btn"),o=document.getElementById("myModal"),r=document.getElementById("closeModalBtn"),d=document.getElementById("cancelStudentBtn"),c=document.getElementById("saveStudentBtn"),i=document.getElementById("deleteModal"),l=document.getElementById("confirmDeleteBtn"),s=document.getElementById("cancelDeleteBtn");function u(){var e=window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB||window.shimIndexedDB;if(e){var t=e.open("studentDb",1);t.onerror=function(e){console.error("An error occurred with IndexedDB"),console.error(e)},t.onsuccess=function(){var e=t.result,n=e.transaction("students","readonly").objectStore("students"),o=[];n.openCursor().onsuccess=function(t){var n=t.target.result;n?(o.push(n.value),n.continue()):(function(e){var t=document.getElementById("studentTableBody");t.innerHTML="",e.forEach((function(e){var n=document.createElement("tr"),o=document.createElement("td");o.textContent=e.name;var r=document.createElement("td");r.textContent=e.age;var d=document.createElement("td");d.textContent=e.class;var c=document.createElement("td");c.textContent=e.address;var a=document.createElement("td"),m=document.createElement("button");m.style.background="#d9534f",m.style.color="#fff",m.style.borderRadius="5px",m.textContent="Delete",m.addEventListener("click",(function(){var t;t=e.id,i.style.display="block",l.onclick=function(){!function(e){var t=window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB||window.shimIndexedDB;if(t){var n=t.open("studentDb",1);n.onerror=function(e){console.error("An error occurred with IndexedDB"),console.error(e)},n.onsuccess=function(){var t=n.result,o=t.transaction("students","readwrite"),r=o.objectStore("students").delete(e);r.onsuccess=function(){console.log("Student with ID ".concat(e," deleted from the database")),u()},r.onerror=function(t){console.error("Error deleting student with ID ".concat(e,":"),t.target.error)},o.oncomplete=function(){t.close()}}}else console.log("IndexedDB could not be found in this browser.")}(t),i.style.display="none"},s.onclick=function(){i.style.display="none"}})),a.appendChild(m),n.appendChild(o),n.appendChild(r),n.appendChild(d),n.appendChild(c),n.appendChild(a),t.appendChild(n)}))}(o),e.close())}}}else console.log("IndexedDB could not be found in this browser.")}n.addEventListener("click",(function(){o.style.display="flex"})),r.addEventListener("click",(function(){o.style.display="none"})),d.addEventListener("click",(function(){o.style.display="none"})),c.addEventListener("click",(function(){!function(n){var o=window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB||window.shimIndexedDB;if(o){var r=o.open("studentDb",1);r.onerror=function(e){console.error("An error occurred with IndexedDB"),console.error(e)},r.onupgradeneeded=function(){r.result.createObjectStore("students",{keyPath:"id"})},r.onsuccess=function(){var o=r.result,d=o.transaction("students","readwrite"),c=d.objectStore("students"),i=Date.now();c.put(function(n){for(var o=1;o<arguments.length;o++){var r=null!=arguments[o]?arguments[o]:{};o%2?t(Object(r),!0).forEach((function(t){var o,d,c;o=n,d=t,c=r[t],(d=function(t){var n=function(t,n){if("object"!==e(t)||null===t)return t;var o=t[Symbol.toPrimitive];if(void 0!==o){var r=o.call(t,"string");if("object"!==e(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===e(n)?n:String(n)}(d))in o?Object.defineProperty(o,d,{value:c,enumerable:!0,configurable:!0,writable:!0}):o[d]=c})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):t(Object(r)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(r,e))}))}return n}({id:i},n)),d.oncomplete=function(){o.close(),console.log("Student added to the database")}},u()}else console.log("IndexedDB could not be found in this browser.")}({name:document.getElementById("name").value,age:parseInt(document.getElementById("age").value),class:document.getElementById("class").value,address:document.getElementById("address").value}),document.getElementById("studentForm").reset(),document.getElementById("myModal").style.display="none"})),u()})();